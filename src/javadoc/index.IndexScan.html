<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Dec 14 16:35:13 CST 1998 -->
<title>
  Class index.IndexScan
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-index.html">This Package</a>  <a href="Package-index.html">Previous</a>  <a href="index.IndexUtils.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class index.IndexScan
</h1>
<pre>
java.lang.Object
   |
   +----<a href="iterator.Iterator.html#_top_">iterator.Iterator</a>
           |
           +----index.IndexScan
</pre>
<hr>
<dl>
  <dt> public class <b>IndexScan</b>
  <dt> extends <a href="iterator.Iterator.html#_top_">Iterator</a>
</dl>
Index Scan iterator will directly access the required tuple using
 the provided key. It will also perform selections and projections.
 information about the tuples and the index are passed to the constructor,
 then the user calls <code>get_next()</code> to get the tuples.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#perm_mat"><b>perm_mat</b></a>
  <dd> 
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#IndexScan(global.IndexType, java.lang.String, java.lang.String, global.AttrType[], short[], int, int, iterator.FldSpec[], iterator.CondExpr[], int, boolean)"><b>IndexScan</b></a>(IndexType, String, String, AttrType[], short[], int, int, FldSpec[], CondExpr[], int, boolean)
  <dd>  class constructor.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#close()"><b>close</b></a>()
  <dd>  Cleaning up the index scan, does not remove either the original
 relation or the index from the database.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#get_next()"><b>get_next</b></a>()
  <dd>  returns the next tuple.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="perm_mat"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>perm_mat</b>
<pre>
 public <a href="iterator.FldSpec.html#_top_">FldSpec</a> perm_mat[]
</pre>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="IndexScan"></a>
<a name="IndexScan(global.IndexType, java.lang.String, java.lang.String, global.AttrType[], short[], int, int, iterator.FldSpec[], iterator.CondExpr[], int, boolean)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>IndexScan</b>
<pre>
 public IndexScan(<a href="global.IndexType.html#_top_">IndexType</a> index,
                  String relName,
                  String indName,
                  <a href="global.AttrType.html#_top_">AttrType</a> types[],
                  short str_sizes[],
                  int noInFlds,
                  int noOutFlds,
                  <a href="iterator.FldSpec.html#_top_">FldSpec</a> outFlds[],
                  <a href="iterator.CondExpr.html#_top_">CondExpr</a> selects[],
                  int fldNum,
                  boolean indexOnly) throws <a href="index.IndexException.html#_top_">IndexException</a>, <a href="heap.InvalidTypeException.html#_top_">InvalidTypeException</a>, <a href="heap.InvalidTupleSizeException.html#_top_">InvalidTupleSizeException</a>, <a href="index.UnknownIndexTypeException.html#_top_">UnknownIndexTypeException</a>, IOException
</pre>
<dl>
  <dd> class constructor. set up the index scan.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> index - type of the index (B_Index, Hash)
    <dd> relName - name of the input relation
    <dd> indName - name of the input index
    <dd> types - array of types in this relation
    <dd> str_sizes - array of string sizes (for attributes that are string)
    <dd> noInFlds - number of fields in input tuple
    <dd> noOutFlds - number of fields in output tuple
    <dd> outFlds - fields to project
    <dd> selects - conditions to apply, first one is primary
    <dd> fldNum - field number of the indexed field
    <dd> indexOnly - whether the answer requires only the key or the tuple
    <dt> <b>Throws:</b> <a href="index.IndexException.html#_top_">IndexException</a>
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="heap.InvalidTypeException.html#_top_">InvalidTypeException</a>
    <dd> tuple type not valid
    <dt> <b>Throws:</b> <a href="heap.InvalidTupleSizeException.html#_top_">InvalidTupleSizeException</a>
    <dd> tuple size not valid
    <dt> <b>Throws:</b> <a href="index.UnknownIndexTypeException.html#_top_">UnknownIndexTypeException</a>
    <dd> index type unknown
    <dt> <b>Throws:</b> IOException
    <dd> from the lower layer
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="get_next()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="get_next"><b>get_next</b></a>
<pre>
 public <a href="heap.Tuple.html#_top_">Tuple</a> get_next() throws <a href="index.IndexException.html#_top_">IndexException</a>, <a href="iterator.UnknownKeyTypeException.html#_top_">UnknownKeyTypeException</a>, IOException
</pre>
<dl>
  <dd> returns the next tuple.
 if <code>index_only</code>, only returns the key value 
 (as the first field in a tuple)
 otherwise, retrive the tuple and returns the whole tuple
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> the tuple
    <dt> <b>Throws:</b> <a href="index.IndexException.html#_top_">IndexException</a>
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="iterator.UnknownKeyTypeException.html#_top_">UnknownKeyTypeException</a>
    <dd> key type unknown
    <dt> <b>Throws:</b> IOException
    <dd> from the lower layer
    <dt> <b>Overrides:</b>
    <dd> <a href="iterator.Iterator.html#get_next()">get_next</a> in class <a href="iterator.Iterator.html#_top_">Iterator</a>
  </dl></dd>
</dl>
<a name="close()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="close"><b>close</b></a>
<pre>
 public void close() throws IOException, <a href="index.IndexException.html#_top_">IndexException</a>
</pre>
<dl>
  <dd> Cleaning up the index scan, does not remove either the original
 relation or the index from the database.
<p>
  <dd><dl>
    <dt> <b>Throws:</b> <a href="index.IndexException.html#_top_">IndexException</a>
    <dd> error from the lower layer
    <dt> <b>Throws:</b> IOException
    <dd> from the lower layer
    <dt> <b>Overrides:</b>
    <dd> <a href="iterator.Iterator.html#close()">close</a> in class <a href="iterator.Iterator.html#_top_">Iterator</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-index.html">This Package</a>  <a href="Package-index.html">Previous</a>  <a href="index.IndexUtils.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
