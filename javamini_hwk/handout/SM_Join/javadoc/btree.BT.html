<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Fri Dec 11 14:41:46 CST 1998 -->
<title>
  Class btree.BT
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-btree.html">This Package</a>  <a href="Package-btree.html">Previous</a>  <a href="btree.BTFileScan.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class btree.BT
</h1>
<pre>
java.lang.Object
   |
   +----btree.BT
</pre>
<hr>
<dl>
  <dt> public class <b>BT</b>
  <dt> extends Object
  <dt> implements <a href="global.GlobalConst.html#_top_">GlobalConst</a>
</dl>
This file contains, among some debug utilities, the interface to our
 key and data abstraction.  The BTLeafPage and BTIndexPage code
 know very little about the various key types.  
 Essentially we provide a way for those classes to package and 
 unpackage <key,data> pairs in a space-efficient manner.  That is, the 
 packaged result contains the key followed immediately by the data value; 
 No padding bytes are used (not even for alignment). 
 Furthermore, the BT<*>Page classes need
 not know anything about the possible AttrType values, since all 
 their processing of <key,data> pairs is done by the functions 
 declared here.
 In addition to packaging/unpacking of <key,value> pairs, we 
 provide a keyCompare function for the (obvious) purpose of
 comparing keys of arbitrary type (as long as they are defined 
 here).
 For debug utilities, we provide some methods to print any page
 or the whole B+ tree structure or all leaf pages.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#BT()"><b>BT</b></a>()
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#keyCompare(btree.KeyClass, btree.KeyClass)"><b>keyCompare</b></a>(KeyClass, KeyClass)
  <dd> It compares two keys.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#printAllLeafPages(btree.BTreeHeaderPage)"><b>printAllLeafPages</b></a>(BTreeHeaderPage)
  <dd> For debug.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#printBTree(btree.BTreeHeaderPage)"><b>printBTree</b></a>(BTreeHeaderPage)
  <dd> For debug.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#printPage(global.PageId, int)"><b>printPage</b></a>(PageId, int)
  <dd> 
 used for debug: to print a page out.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="BT"></a>
<a name="BT()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>BT</b>
<pre>
 public BT()
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="keyCompare(btree.KeyClass, btree.KeyClass)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="keyCompare"><b>keyCompare</b></a>
<pre>
 public static final int keyCompare(<a href="btree.KeyClass.html#_top_">KeyClass</a> key1,
                                    <a href="btree.KeyClass.html#_top_">KeyClass</a> key2) throws <a href="btree.KeyNotMatchException.html#_top_">KeyNotMatchException</a>
</pre>
<dl>
  <dd> It compares two keys.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> key1 - the first key to compare. Input parameter.
    <dd> key2 - the second key to compare. Input parameter.
    <dt> <b>Returns:</b>
    <dd> return negative if key1 less than key2; positive if key1 bigger
 than  key2; 
 0 if key1=key2.
    <dt> <b>Throws:</b> <a href="btree.KeyNotMatchException.html#_top_">KeyNotMatchException</a>
    <dd> key is not IntegerKey or StringKey class
  </dl></dd>
</dl>
<a name="printPage(global.PageId, int)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="printPage"><b>printPage</b></a>
<pre>
 public static void printPage(<a href="global.PageId.html#_top_">PageId</a> pageno,
                              int keyType) throws IOException, <a href="btree.IteratorException.html#_top_">IteratorException</a>, <a href="btree.ConstructPageException.html#_top_">ConstructPageException</a>, <a href="bufmgr.HashEntryNotFoundException.html#_top_">HashEntryNotFoundException</a>, <a href="bufmgr.ReplacerException.html#_top_">ReplacerException</a>, <a href="bufmgr.PageUnpinnedException.html#_top_">PageUnpinnedException</a>, <a href="bufmgr.InvalidFrameNumberException.html#_top_">InvalidFrameNumberException</a>
</pre>
<dl>
  <dd> used for debug: to print a page out. The page is either BTIndexPage,
 or BTLeafPage.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> pageno - the number of page. Input parameter.
    <dd> keyType - It specifies the type of key. It can be
               AttrType.attrString or AttrType.attrInteger.
               Input parameter.
    <dt> <b>Throws:</b> IOException
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="btree.IteratorException.html#_top_">IteratorException</a>
    <dd> error for iterator
    <dt> <b>Throws:</b> <a href="btree.ConstructPageException.html#_top_">ConstructPageException</a>
    <dd> error for BT page constructor
    <dt> <b>Throws:</b> <a href="bufmgr.HashEntryNotFoundException.html#_top_">HashEntryNotFoundException</a>
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.ReplacerException.html#_top_">ReplacerException</a>
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.PageUnpinnedException.html#_top_">PageUnpinnedException</a>
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.InvalidFrameNumberException.html#_top_">InvalidFrameNumberException</a>
    <dd> error from the lower layer
  </dl></dd>
</dl>
<a name="printBTree(btree.BTreeHeaderPage)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="printBTree"><b>printBTree</b></a>
<pre>
 public static void printBTree(BTreeHeaderPage header) throws IOException, <a href="btree.ConstructPageException.html#_top_">ConstructPageException</a>, <a href="btree.IteratorException.html#_top_">IteratorException</a>, <a href="bufmgr.HashEntryNotFoundException.html#_top_">HashEntryNotFoundException</a>, <a href="bufmgr.InvalidFrameNumberException.html#_top_">InvalidFrameNumberException</a>, <a href="bufmgr.PageUnpinnedException.html#_top_">PageUnpinnedException</a>, <a href="bufmgr.ReplacerException.html#_top_">ReplacerException</a>
</pre>
<dl>
  <dd> For debug. Print the B+ tree structure out
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> header - the head page of the B+ tree file
    <dt> <b>Throws:</b> IOException
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="btree.ConstructPageException.html#_top_">ConstructPageException</a>
    <dd> error from BT page constructor
    <dt> <b>Throws:</b> <a href="btree.IteratorException.html#_top_">IteratorException</a>
    <dd> error from iterator
    <dt> <b>Throws:</b> <a href="bufmgr.HashEntryNotFoundException.html#_top_">HashEntryNotFoundException</a>
    <dd> error from lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.InvalidFrameNumberException.html#_top_">InvalidFrameNumberException</a>
    <dd> error from lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.PageUnpinnedException.html#_top_">PageUnpinnedException</a>
    <dd> error from lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.ReplacerException.html#_top_">ReplacerException</a>
    <dd> error from lower layer
  </dl></dd>
</dl>
<a name="printAllLeafPages(btree.BTreeHeaderPage)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="printAllLeafPages"><b>printAllLeafPages</b></a>
<pre>
 public static void printAllLeafPages(BTreeHeaderPage header) throws IOException, <a href="btree.ConstructPageException.html#_top_">ConstructPageException</a>, <a href="btree.IteratorException.html#_top_">IteratorException</a>, <a href="bufmgr.HashEntryNotFoundException.html#_top_">HashEntryNotFoundException</a>, <a href="bufmgr.InvalidFrameNumberException.html#_top_">InvalidFrameNumberException</a>, <a href="bufmgr.PageUnpinnedException.html#_top_">PageUnpinnedException</a>, <a href="bufmgr.ReplacerException.html#_top_">ReplacerException</a>
</pre>
<dl>
  <dd> For debug. Print all leaf pages of the B+ tree  out
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> header - the head page of the B+ tree file
    <dt> <b>Throws:</b> IOException
    <dd> error from the lower layer
    <dt> <b>Throws:</b> <a href="btree.ConstructPageException.html#_top_">ConstructPageException</a>
    <dd> error for BT page constructor
    <dt> <b>Throws:</b> <a href="btree.IteratorException.html#_top_">IteratorException</a>
    <dd> error from iterator
    <dt> <b>Throws:</b> <a href="bufmgr.HashEntryNotFoundException.html#_top_">HashEntryNotFoundException</a>
    <dd> error from lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.InvalidFrameNumberException.html#_top_">InvalidFrameNumberException</a>
    <dd> error from lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.PageUnpinnedException.html#_top_">PageUnpinnedException</a>
    <dd> error from lower layer
    <dt> <b>Throws:</b> <a href="bufmgr.ReplacerException.html#_top_">ReplacerException</a>
    <dd> error from lower layer
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-btree.html">This Package</a>  <a href="Package-btree.html">Previous</a>  <a href="btree.BTFileScan.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
