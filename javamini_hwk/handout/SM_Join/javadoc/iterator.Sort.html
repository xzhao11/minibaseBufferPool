<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Fri Dec 11 14:41:46 CST 1998 -->
<title>
  Class iterator.Sort
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-iterator.html">This Package</a>  <a href="iterator.RelSpec.html#_top_">Previous</a>  <a href="iterator.SortMerge.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class iterator.Sort
</h1>
<pre>
java.lang.Object
   |
   +----<a href="iterator.Iterator.html#_top_">iterator.Iterator</a>
           |
           +----iterator.Sort
</pre>
<hr>
<dl>
  <dt> public class <b>Sort</b>
  <dt> extends <a href="iterator.Iterator.html#_top_">Iterator</a>
  <dt> implements <a href="global.GlobalConst.html#_top_">GlobalConst</a>
</dl>
The Sort class sorts a file. All necessary information are passed as 
 arguments to the constructor. After the constructor call, the user can
 repeatly call <code>get_next()</code> to get tuples in sorted order.
 After the sorting is done, the user should call <code>close()</code>
 to clean up.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Sort(global.AttrType[], short, short[], iterator.Iterator, int, global.TupleOrder, int, int)"><b>Sort</b></a>(AttrType[], short, short[], Iterator, int, TupleOrder, int, int)
  <dd> 
 Class constructor, take information about the tuples, and set up 
 the sorting
 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#close()"><b>close</b></a>()
  <dd>  Cleaning up, including releasing buffer pages from the buffer pool
 and removing temporary files from the database.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#get_next()"><b>get_next</b></a>()
  <dd>  Returns the next tuple in sorted order.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Sort"></a>
<a name="Sort(global.AttrType[], short, short[], iterator.Iterator, int, global.TupleOrder, int, int)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Sort</b>
<pre>
 public Sort(<a href="global.AttrType.html#_top_">AttrType</a> in[],
             short len_in,
             short str_sizes[],
             <a href="iterator.Iterator.html#_top_">Iterator</a> am,
             int sort_fld,
             <a href="global.TupleOrder.html#_top_">TupleOrder</a> sort_order,
             int sort_fld_len,
             int n_pages) throws IOException, <a href="iterator.SortException.html#_top_">SortException</a>
</pre>
<dl>
  <dd> Class constructor, take information about the tuples, and set up 
 the sorting
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> in - array containing attribute types of the relation
    <dd> len_in - number of columns in the relation
    <dd> str_sizes - array of sizes of string attributes
    <dd> am - an iterator for accessing the tuples
    <dd> sort_fld - the field number of the field to sort on
    <dd> sort_order - the sorting order (ASCENDING, DESCENDING)
    <dd> sort_field_len - the length of the sort field
    <dd> n_pages - amount of memory (in pages) available for sorting
    <dt> <b>Throws:</b> IOException
    <dd> from lower layers
    <dt> <b>Throws:</b> <a href="iterator.SortException.html#_top_">SortException</a>
    <dd> something went wrong in the lower layer.
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="get_next()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="get_next"><b>get_next</b></a>
<pre>
 public <a href="heap.Tuple.html#_top_">Tuple</a> get_next() throws IOException, <a href="iterator.SortException.html#_top_">SortException</a>, <a href="iterator.UnknowAttrType.html#_top_">UnknowAttrType</a>, <a href="iterator.LowMemException.html#_top_">LowMemException</a>, <a href="iterator.JoinsException.html#_top_">JoinsException</a>, Exception
</pre>
<dl>
  <dd> Returns the next tuple in sorted order.
 Note: You need to copy out the content of the tuple, otherwise it
       will be overwritten by the next <code>get_next()</code> call.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> the next tuple, null if all tuples exhausted
    <dt> <b>Throws:</b> IOException
    <dd> from lower layers
    <dt> <b>Throws:</b> <a href="iterator.SortException.html#_top_">SortException</a>
    <dd> something went wrong in the lower layer.
    <dt> <b>Throws:</b> <a href="iterator.JoinsException.html#_top_">JoinsException</a>
    <dd> from <code>generate_runs()</code>.
    <dt> <b>Throws:</b> <a href="iterator.UnknowAttrType.html#_top_">UnknowAttrType</a>
    <dd> attribute type unknown
    <dt> <b>Throws:</b> <a href="iterator.LowMemException.html#_top_">LowMemException</a>
    <dd> memory low exception
    <dt> <b>Throws:</b> Exception
    <dd> other exceptions
    <dt> <b>Overrides:</b>
    <dd> <a href="iterator.Iterator.html#get_next()">get_next</a> in class <a href="iterator.Iterator.html#_top_">Iterator</a>
  </dl></dd>
</dl>
<a name="close()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="close"><b>close</b></a>
<pre>
 public void close() throws <a href="iterator.SortException.html#_top_">SortException</a>, IOException
</pre>
<dl>
  <dd> Cleaning up, including releasing buffer pages from the buffer pool
 and removing temporary files from the database.
<p>
  <dd><dl>
    <dt> <b>Throws:</b> IOException
    <dd> from lower layers
    <dt> <b>Throws:</b> <a href="iterator.SortException.html#_top_">SortException</a>
    <dd> something went wrong in the lower layer.
    <dt> <b>Overrides:</b>
    <dd> <a href="iterator.Iterator.html#close()">close</a> in class <a href="iterator.Iterator.html#_top_">Iterator</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-iterator.html">This Package</a>  <a href="iterator.RelSpec.html#_top_">Previous</a>  <a href="iterator.SortMerge.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
